"use strict";(self.webpackChunkprosoft_components_demo=self.webpackChunkprosoft_components_demo||[]).push([[67],{5067:(F,T,m)=>{m.r(T),m.d(T,{SelectDemoModule:()=>me});var u=m(6895),n=m(4006),Z=m(3546),S=m(6709),g=m(9549),A=m(4144),b=m(1948),J=m(2510),h=m(2235),_=m(9646),D=m(1848),v=m(2843),U=m(8505),x=m(1005),e=m(4650),k=m(4385),N=m(3238),p=m(2079),I=m(6328),y=m(5028);let Q=(()=>{class o{constructor(a){this.cd=a,this.items=Array.from(Array(50).keys()).map(t=>({value:`id${t}`,label:`Item ${t}`})),this.ngModelValue="id11"}random(){const a=Math.floor(Math.random()*this.items.length);this.ngModelValue=this.items[a].value,this.cd.markForCheck()}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-with-ng-model"]],decls:16,vars:5,consts:[[3,"click"],[3,"ngModel","dataSource","ngModelChange"]],template:function(a,t){1&a&&(e.TgZ(0,"h2"),e._uU(1,"ngModel"),e.qZA(),e.TgZ(2,"div")(3,"button",0),e.NdJ("click",function(){return t.random()}),e._uU(4,"select random value"),e.qZA()(),e.TgZ(5,"mat-form-field")(6,"mat-label"),e._uU(7,"ngModel bound"),e.qZA(),e.TgZ(8,"ps-select",1),e.NdJ("ngModelChange",function(i){return t.ngModelValue=i}),e.qZA()(),e._uU(9),e.ALo(10,"json"),e.TgZ(11,"ul")(12,"li"),e._uU(13,"'Item 11'/'id11' should be initially selected"),e.qZA(),e.TgZ(14,"li"),e._uU(15,"Changing the selection should update the selected value"),e.qZA()()),2&a&&(e.xp6(8),e.Q6J("ngModel",t.ngModelValue)("dataSource",t.items),e.xp6(1),e.hij(" value: ",e.lcZ(10,3,t.ngModelValue)," "))},dependencies:[n.JJ,n.On,g.KE,g.hX,p.c,u.Ts],encapsulation:2,changeDetection:0}),o})(),L=(()=>{class o{constructor(){this.items=Array.from(Array(50).keys()).map(a=>({value:`id${a}`,label:`Item ${a}`})),this.values=[]}onSelectionChange(a){this.values.push(a.value)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-with-events-only"]],decls:13,vars:4,consts:[[3,"dataSource","selectionChange"]],template:function(a,t){1&a&&(e.TgZ(0,"h2"),e._uU(1,"Event output only (no form)"),e.qZA(),e.TgZ(2,"mat-form-field")(3,"mat-label"),e._uU(4,"selectionChange only"),e.qZA(),e.TgZ(5,"ps-select",0),e.NdJ("selectionChange",function(i){return t.onSelectionChange(i)}),e.qZA()(),e._uU(6),e.ALo(7,"json"),e.TgZ(8,"ul")(9,"li"),e._uU(10,"Initialliy no event should be fired"),e.qZA(),e.TgZ(11,"li"),e._uU(12,"When changing the selection, the id of the selected item should be added to the events values above"),e.qZA()()),2&a&&(e.xp6(5),e.Q6J("dataSource",t.items),e.xp6(1),e.hij(" change event values: ",e.lcZ(7,2,t.values)," "))},dependencies:[g.KE,g.hX,p.c,u.Ts],encapsulation:2,changeDetection:0}),o})(),w=(()=>{class o{constructor(){this.items$=(0,_.of)(Array.from(Array(50).keys()).map(a=>({value:`id${a}`,label:`Item ${a}`}))),this.form=new n.cw({select:new n.NI("idx")})}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-with-selected-item-not-in-datasource"]],decls:21,vars:5,consts:[[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource"]],template:function(a,t){1&a&&(e.TgZ(0,"h2"),e._uU(1,"Initially selected Item is not in DataSource"),e.qZA(),e.TgZ(2,"span",0)(3,"mat-form-field",1)(4,"mat-label"),e._uU(5,"select"),e.qZA(),e._UZ(6,"ps-select",2),e.qZA()(),e._uU(7),e.ALo(8,"json"),e._UZ(9,"br"),e.TgZ(10,"ul")(11,"li"),e._uU(12,"Initially '??? (ID: idx)' should be selected"),e.qZA(),e.TgZ(13,"li"),e._uU(14,"When first opening the dropdown '??? (ID: idx)' should be the first item and marked as selected"),e.qZA(),e.TgZ(15,"li"),e._uU(16,"the filter should work"),e.qZA(),e.TgZ(17,"li"),e._uU(18," When filtering for 'item' the '??? (ID: idx)' entry should not be visible in the dropdown. When closing the dropdown without clearing the filter, '??? (ID: idx)' should still be thr selected item in the selectbox and no flickering should occur. "),e.qZA(),e.TgZ(19,"li"),e._uU(20,"When selecting a different item, '??? (ID: idx)' should vanish from the selectable items"),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("dataSource",t.items$),e.xp6(1),e.hij(" value: ",e.lcZ(8,3,t.form.value.select),""))},dependencies:[n.JJ,n.JL,n.sg,n.u,g.KE,g.hX,p.c,u.Ts],encapsulation:2,changeDetection:0}),o})(),c=(()=>{class o{constructor(){this.dataSource=new h.xF({mode:"id",labelKey:"a",idKey:"b",items:()=>D.C}),this.form=new n.cw({select:new n.NI("idx")})}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-with-endless-loading-datasource"]],decls:17,vars:5,consts:[[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource"]],template:function(a,t){1&a&&(e.TgZ(0,"h2"),e._uU(1,"Endless Loading DataSource"),e.qZA(),e.TgZ(2,"span",0)(3,"mat-form-field",1)(4,"mat-label"),e._uU(5,"select"),e.qZA(),e._UZ(6,"ps-select",2),e.qZA()(),e._uU(7),e.ALo(8,"json"),e._UZ(9,"br"),e.TgZ(10,"ul")(11,"li"),e._uU(12,"Initially '??? (ID: idx)' should be selected"),e.qZA(),e.TgZ(13,"li"),e._uU(14,"When opening the dropdown, there sould be a loading indicator"),e.qZA(),e.TgZ(15,"li"),e._uU(16,"the filter should work"),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("dataSource",t.dataSource),e.xp6(1),e.hij(" value: ",e.lcZ(8,3,t.form.value.select),""))},dependencies:[n.JJ,n.JL,n.sg,n.u,g.KE,g.hX,p.c,u.Ts],encapsulation:2,changeDetection:0}),o})(),s=(()=>{class o{constructor(){this.dataSource=new h.xF({mode:"id",labelKey:"a",idKey:"b",items:()=>(0,v._)("Failed to load items")}),this.form=new n.cw({select:new n.NI("idx")})}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-with-error-in-datasource"]],decls:15,vars:5,consts:[[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource"]],template:function(a,t){1&a&&(e.TgZ(0,"h2"),e._uU(1,"Error while loading items"),e.qZA(),e.TgZ(2,"span",0)(3,"mat-form-field",1)(4,"mat-label"),e._uU(5,"select"),e.qZA(),e._UZ(6,"ps-select",2),e.qZA()(),e._uU(7),e.ALo(8,"json"),e._UZ(9,"br"),e.TgZ(10,"ul")(11,"li"),e._uU(12,"Initially '??? (ID: idx)' should be selected"),e.qZA(),e.TgZ(13,"li"),e._uU(14,"When opening the dropdown, there sould be a red item with 'Failed to load items' that is not selectable"),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("dataSource",t.dataSource),e.xp6(1),e.hij(" value: ",e.lcZ(8,3,t.form.value.select),""))},dependencies:[n.JJ,n.JL,n.sg,n.u,g.KE,g.hX,p.c,u.Ts],encapsulation:2,changeDetection:0}),o})(),d=(()=>{class o{constructor(a){this.cd=a,this.currentLoadTrigger="initial",this.loadCount=0,this.form=new n.cw({select:new n.NI("idx")}),this.onTriggerChanged(this.currentLoadTrigger)}onTriggerChanged(a){this.loadCount=0,this.dataSource=this.createDataSource("initial"===a?1:"firstopen"===a?2:4),this.cd.markForCheck()}createDataSource(a){return new h.xF({mode:"id",idKey:"value",labelKey:"label",items:()=>{this.loadCount++;const t=Math.random(),r=Math.random();return(0,_.of)([{value:t,label:"item "+t},{value:r,label:"item "+r}]).pipe((0,x.g)(1e3))},loadTrigger:a})}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-with-other-load-trigger"]],decls:30,vars:8,consts:[[3,"ngModel","ngModelChange","change"],["value","initial"],["value","firstopen"],["value","everyopen"],[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource"]],template:function(a,t){1&a&&(e.TgZ(0,"h2"),e._uU(1,"Custom load trigger with 1 second loading delay"),e.qZA(),e.TgZ(2,"div")(3,"mat-radio-group",0),e.NdJ("ngModelChange",function(i){return t.currentLoadTrigger=i})("change",function(i){return t.onTriggerChanged(i.value)}),e.TgZ(4,"mat-radio-button",1),e._uU(5,"initial"),e.qZA(),e.TgZ(6,"mat-radio-button",2),e._uU(7,"first panel open"),e.qZA(),e.TgZ(8,"mat-radio-button",3),e._uU(9,"every panel open"),e.qZA()()(),e.TgZ(10,"span",4)(11,"mat-form-field",5)(12,"mat-label"),e._uU(13,"select"),e.qZA(),e._UZ(14,"ps-select",6),e.qZA()(),e._uU(15),e.ALo(16,"json"),e._UZ(17,"br"),e._uU(18),e._UZ(19,"br"),e._uU(20),e.TgZ(21,"ul")(22,"li"),e._uU(23,"Initially '??? (ID: idx)' should be selected and load trigger should be 'initial' with count 1"),e.qZA(),e.TgZ(24,"li"),e._uU(25,"For load trigger 'first panel open' count should be 0, increase to 1 on first open. It should never go beyond 1"),e.qZA(),e.TgZ(26,"li"),e._uU(27,"For load trigger 'every panel open' count should be 0 and increase by 1 on every open"),e.qZA(),e.TgZ(28,"li"),e._uU(29,"When switching the load trigger, the selected value shouldn't vanish"),e.qZA()()),2&a&&(e.xp6(3),e.Q6J("ngModel",t.currentLoadTrigger),e.xp6(7),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("dataSource",t.dataSource),e.xp6(1),e.hij(" value: ",e.lcZ(16,6,t.form.value.select),""),e.xp6(3),e.hij(" current load trigger: ",t.currentLoadTrigger,""),e.xp6(2),e.hij(" load trigger count: ",t.loadCount," "))},dependencies:[n.JJ,n.JL,n.On,n.sg,n.u,g.KE,g.hX,p.c,b.VQ,b.U0,u.Ts],encapsulation:2,changeDetection:0}),o})(),f=(()=>{class o{constructor(){this.showToggleAll=!0,this.items$=(0,_.of)(Array.from(Array(500).keys()).map(a=>({value:`id${a}`,label:`Item ${a}`}))),this.form=new n.cw({select:new n.NI})}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-with-multiselect"]],decls:22,vars:8,consts:[[3,"ngModel","ngModelChange"],[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource","multiple","showToggleAll"]],template:function(a,t){1&a&&(e.TgZ(0,"h2"),e._uU(1,"Multiselect"),e.qZA(),e.TgZ(2,"div")(3,"mat-checkbox",0),e.NdJ("ngModelChange",function(i){return t.showToggleAll=i}),e._uU(4,"show toggle all"),e.qZA()(),e.TgZ(5,"span",1)(6,"mat-form-field",2)(7,"mat-label"),e._uU(8,"select"),e.qZA(),e._UZ(9,"ps-select",3),e.qZA()(),e._uU(10),e.ALo(11,"json"),e._UZ(12,"br"),e.TgZ(13,"ul")(14,"li"),e._uU(15,"Multiple items should be selectable"),e.qZA(),e.TgZ(16,"li"),e._uU(17,"On mouseover the selected items should be shown in a tooltip"),e.qZA(),e.TgZ(18,"li"),e._uU(19,"When selecting a item, the dropdown should stay open and shouldnt reorder the items"),e.qZA(),e.TgZ(20,"li"),e._uU(21,"When closing and reopening the dropdown, all selected items should be at the top"),e.qZA()()),2&a&&(e.xp6(3),e.Q6J("ngModel",t.showToggleAll),e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("dataSource",t.items$)("multiple",!0)("showToggleAll",t.showToggleAll),e.xp6(1),e.hij(" value: ",e.lcZ(11,6,t.form.value.select),""))},dependencies:[n.JJ,n.JL,n.On,n.sg,n.u,g.KE,g.hX,p.c,S.oG,u.Ts],encapsulation:2,changeDetection:0}),o})();const j=function(o){return{mode:"entity",idKey:"id",labelKey:"Name",items:o}},E=function(o){return{mode:"id",idKey:"id",labelKey:"Name",items:o}};let O=(()=>{class o extends h.Bc{constructor(){super()}createDataSource(a,t){return"string"==typeof a&&(a=function B(o){if(!/^(id)?lookup:/.test(o))throw new Error(o);const l=o.split(":")[1],a=(0,_.of)(Array.from(Array(50).keys()).map(t=>({id:`${l}${t}`,name:`${l} ${t}`})));return{mode:o.startsWith("id")?"id":"entity",idKey:"id",labelKey:"name",items:a,loadTrigger:4}}(a)),super.createDataSource(a,t)}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})(),K=(()=>{class o{constructor(){this.items$=(0,_.of)(Array.from(Array(50).keys()).map(a=>({id:`id${a}`,name:`Item ${a}`}))),this.form=new n.cw({lookupEntity:new n.NI({id:"country1",name:"not visible after first open"}),lookupId:new n.NI("country1"),optionsEntity:new n.NI({id:"id1",name:"not visible in select"}),optionsId:new n.NI("id1")})}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-with-custom-select-service"]],features:[e._Bn([{provide:h.QI,useClass:O}])],decls:40,vars:21,consts:[[3,"formGroup"],[2,"display","inline-block"],["formControlName","lookupEntity",3,"dataSource"],["formControlName","lookupId",3,"dataSource"],["formControlName","optionsEntity",3,"dataSource"],["formControlName","optionsId",3,"dataSource"]],template:function(a,t){1&a&&(e.TgZ(0,"h2"),e._uU(1,"Custom PsSelectService"),e.qZA(),e.TgZ(2,"div",0)(3,"mat-form-field",1)(4,"mat-label"),e._uU(5,"lookup (mode: entity)"),e.qZA(),e._UZ(6,"ps-select",2),e.qZA(),e._uU(7),e.ALo(8,"json"),e._UZ(9,"br"),e.TgZ(10,"mat-form-field",1)(11,"mat-label"),e._uU(12,"lookup (mode: id)"),e.qZA(),e._UZ(13,"ps-select",3),e.qZA(),e._uU(14),e.ALo(15,"json"),e._UZ(16,"br"),e.TgZ(17,"mat-form-field",1)(18,"mat-label"),e._uU(19,"options (mode: entity)"),e.qZA(),e._UZ(20,"ps-select",4),e.qZA(),e._uU(21),e.ALo(22,"json"),e._UZ(23,"br"),e.TgZ(24,"mat-form-field",1)(25,"mat-label"),e._uU(26,"options (mode: id)"),e.qZA(),e._UZ(27,"ps-select",5),e.qZA(),e._uU(28),e.ALo(29,"json"),e._UZ(30,"br"),e.qZA(),e.TgZ(31,"ul")(32,"li"),e._uU(33,"The initially visible selections should be 'not visible after first open', '??? (ID: country1)', 'Item 1' and 'Item 1'"),e.qZA(),e.TgZ(34,"li"),e._uU(35,"After first opening the lookup dropdowns (when the items are loaded) the label should update to 'country 1'"),e.qZA(),e.TgZ(36,"li"),e._uU(37,"For mode 'entity' the whole object should be in the form value"),e.qZA(),e.TgZ(38,"li"),e._uU(39,"For mode 'id' only the id should be in the form value"),e.qZA()()),2&a&&(e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("dataSource","lookup:country"),e.xp6(1),e.hij(" value: ",e.lcZ(8,9,t.form.value.lookupEntity),""),e.xp6(6),e.Q6J("dataSource","idlookup:country"),e.xp6(1),e.hij(" value: ",e.lcZ(15,11,t.form.value.lookupId),""),e.xp6(6),e.Q6J("dataSource",e.VKq(17,j,t.items$)),e.xp6(1),e.hij(" value: ",e.lcZ(22,13,t.form.value.optionsEntity),""),e.xp6(6),e.Q6J("dataSource",e.VKq(19,E,t.items$)),e.xp6(1),e.hij(" value: ",e.lcZ(29,15,t.form.value.optionsId),""))},dependencies:[n.JJ,n.JL,n.sg,n.u,g.KE,g.hX,p.c,u.Ts],encapsulation:2,changeDetection:0}),o})();function $(o,l){if(1&o&&(e.ynx(0),e._uU(1," color: "),e.TgZ(2,"span",3),e._uU(3),e.qZA(),e.BQk()),2&o){const a=l.$implicit;e.xp6(2),e.Udp("color",a.value),e.xp6(1),e.Oqu(a.viewValue)}}function X(o,l){if(1&o&&(e.ynx(0),e.TgZ(1,"div"),e._uU(2,"color:"),e.qZA(),e.TgZ(3,"span",3),e._uU(4),e.qZA(),e.BQk()),2&o){const a=l.$implicit;e.xp6(3),e.Udp("color",a.value.color)("font-size",a.value.size),e.xp6(1),e.Oqu(a.label)}}let G=(()=>{class o{constructor(){this.items=[{value:{color:"red",size:"3em"},label:"Red"},{value:{color:"green",size:"2em"},label:"Green"},{value:{color:"blue",size:"1.5em"},label:"Blue"}],this.ngModelValue=null,this.panelNgClass={"app-select-with-custom-template__custom-panel":!0}}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-with-custom-template"]],decls:13,vars:6,consts:[[3,"ngModel","dataSource","panelClass","ngModelChange"],[4,"psSelectTriggerTemplate"],[4,"psSelectOptionTemplate"],[1,"asdf"]],template:function(a,t){1&a&&(e.TgZ(0,"h2"),e._uU(1,"Custom options template"),e.qZA(),e.TgZ(2,"mat-form-field")(3,"mat-label"),e._uU(4,"select"),e.qZA(),e.TgZ(5,"ps-select",0),e.NdJ("ngModelChange",function(i){return t.ngModelValue=i}),e.YNc(6,$,4,3,"ng-container",1),e.YNc(7,X,5,5,"ng-container",2),e.qZA()(),e._uU(8),e.ALo(9,"json"),e.TgZ(10,"ul")(11,"li"),e._uU(12,"The selectable items should be in the color of their name"),e.qZA()()),2&a&&(e.xp6(5),e.Q6J("ngModel",t.ngModelValue)("dataSource",t.items)("panelClass",t.panelNgClass),e.xp6(3),e.hij(" value: ",e.lcZ(9,4,t.ngModelValue)," "))},dependencies:[n.JJ,n.On,g.KE,g.hX,p.c,I.U,y.k,u.Ts],styles:[".app-select-with-custom-template__custom-panel.mat-select-panel .mat-option{height:auto;min-height:3em;line-height:1.5em;padding-top:3px;padding-bottom:3px}\n"],encapsulation:2,changeDetection:0}),o})();var P=m(8675),V=m(4482),Y=m(5403),H=m(8737);class R{isErrorState(l,a){return!(!l||!l.invalid)}}let ee=(()=>{class o{constructor(){this.items$=(0,_.of)(Array.from(Array(10).keys()).map(a=>({value:`id${a}`,label:`Item ${a}`}))),this.form=new n.cw({select:new n.NI(null,[n.kI.required])}),this.errorStateMatcher=new R,this.lastFiveValues$=this.form.get("select").valueChanges.pipe((0,P.O)(null,null,null,null,null),function z(o,l=null){return l=l??o,(0,V.e)((a,t)=>{let r=[],i=0;a.subscribe((0,Y.x)(t,q=>{let C=null;i++%l==0&&r.push([]);for(const M of r)M.push(q),o<=M.length&&(C=C??[],C.push(M));if(C)for(const M of C)(0,H.P)(r,M),t.next(M)},()=>{for(const q of r)t.next(q);t.complete()},void 0,()=>{r=null}))})}(5,1)),this.form.disable()}toggleDiabled(){this.form.disabled?this.form.enable():this.form.disable()}}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-with-error-state-matcher"]],decls:22,vars:9,consts:[[3,"click"],[3,"formGroup"],[2,"display","inline-block"],["formControlName","select",3,"dataSource","errorStateMatcher"]],template:function(a,t){1&a&&(e.TgZ(0,"h2"),e._uU(1,"Disabled form with custom error state matcher"),e.qZA(),e.TgZ(2,"div")(3,"button",0),e.NdJ("click",function(){return t.toggleDiabled()}),e._uU(4,"toggle disabled"),e.qZA()(),e.TgZ(5,"span",1)(6,"mat-form-field",2)(7,"mat-label"),e._uU(8,"select"),e.qZA(),e._UZ(9,"ps-select",3),e.qZA()(),e._uU(10),e.ALo(11,"json"),e._UZ(12,"br"),e._uU(13),e.ALo(14,"async"),e.TgZ(15,"ul")(16,"li"),e._uU(17,"Should be disabled initially"),e.qZA(),e.TgZ(18,"li"),e._uU(19,"Should be invalid/red on enabling"),e.qZA(),e.TgZ(20,"li"),e._uU(21,"Should be valid/grey when disabling (without choosing value)"),e.qZA()()),2&a&&(e.xp6(5),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("dataSource",t.items$)("errorStateMatcher",t.errorStateMatcher),e.xp6(1),e.hij(" value: ",e.lcZ(11,5,t.form.value.select),""),e.xp6(3),e.hij(" last 5 values: ",e.lcZ(14,7,t.lastFiveValues$)," "))},dependencies:[n.JJ,n.JL,n.sg,n.u,g.KE,g.hX,p.c,u.Ov,u.Ts],encapsulation:2,changeDetection:0}),o})();function te(o,l){if(1&o&&(e.ynx(0),e._uU(1),e.ALo(2,"json"),e.BQk()),2&o){const a=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,a)," ")}}function ae(o,l){1&o&&(e.ynx(0),e.YNc(1,te,3,3,"ng-container",14),e.BQk())}function oe(o,l){if(1&o&&(e.ynx(0),e._uU(1),e.ALo(2,"json"),e.BQk()),2&o){const a=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,a)," ")}}function ne(o,l){1&o&&(e.ynx(0),e.YNc(1,oe,3,3,"ng-container",15),e.BQk())}function le(o,l){if(1&o&&(e.ynx(0),e._uU(1),e.ALo(2,"json"),e.BQk()),2&o){const a=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,a)," ")}}function re(o,l){1&o&&(e.ynx(0),e.YNc(1,le,3,3,"ng-container",14),e.BQk())}function ie(o,l){if(1&o&&(e.ynx(0),e._uU(1),e.ALo(2,"json"),e.BQk()),2&o){const a=l.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,a)," ")}}function ce(o,l){1&o&&(e.ynx(0),e.YNc(1,ie,3,3,"ng-container",15),e.BQk())}const W=function(o){return{"app-select-demo__panel":o}};function se(o,l){if(1&o){const a=e.EpF();e.TgZ(0,"mat-card",8)(1,"mat-form-field",9)(2,"mat-label"),e._uU(3,"ngModel"),e.qZA(),e.TgZ(4,"ps-select",10),e.NdJ("ngModelChange",function(r){e.CHM(a);const i=e.oxw();return e.KtG(i.ngModel=r)}),e.YNc(5,ae,2,0,"ng-container",11),e.YNc(6,ne,2,0,"ng-container",11),e.qZA()(),e.TgZ(7,"div",12)(8,"mat-form-field",9)(9,"mat-label"),e._uU(10,"FormControl"),e.qZA(),e.TgZ(11,"ps-select",13),e.YNc(12,re,2,0,"ng-container",11),e.YNc(13,ce,2,0,"ng-container",11),e.qZA()()()()}if(2&o){const a=e.oxw();e.xp6(4),e.Q6J("ngModel",a.ngModel)("dataSource",a.ngModelDataSource)("multiple",a.multiple)("clearable",a.clearable)("disabled",a.disabled)("required",a.required)("panelClass",e.VKq(18,W,a.panelClass)),e.xp6(1),e.Q6J("ngIf",a.customTriggerTpl),e.xp6(1),e.Q6J("ngIf",a.customOptionTpl),e.xp6(1),e.Q6J("formGroup",a.form),e.xp6(4),e.Q6J("dataSource",a.formDataSource)("multiple",a.multiple)("clearable",a.clearable)("disabled",a.disabled)("required",a.required)("panelClass",e.VKq(20,W,a.panelClass)),e.xp6(1),e.Q6J("ngIf",a.customTriggerTpl),e.xp6(1),e.Q6J("ngIf",a.customOptionTpl)}}let de=(()=>{class o{constructor(a){this.cd=a,this.visible=!0,this.ngModel=null,this.form=new n.cw({ctrl:new n.NI(null)}),this.items=Array.from(Array(500).keys()).map(t=>({id:t,strId:`id${t}`,labelA:`Label A ${t}`,labelB:`Label B ${t}`,disabled:t%5==4})),this.unknowIitem={id:-1,strId:"id-1",labelA:"Label A -1",labelB:"Label B -1"},this.multiple=!1,this.clearable=!0,this.disabled=!1,this.required=!1,this.panelClass=!1,this.customTriggerTpl=!1,this.customOptionTpl=!1,this.dataSourceItems="default",this.dataSourceMode="id",this.dataSourceIdKey="id",this.dataSourceLabelKey="labelA",this.dataSourceSearchDebounce=300,this.loadTriggerInitial=!0,this.loadTriggerFirstPanelOpen=!1,this.loadTriggerEveryPanelOpen=!1,this.sortBySelected=!0,this.sortByComparer=!0,this.reverseSort=!1,this.itemsAsObservable=!1,this.itemsAsFunction=!1,this.ngModelLogs={loadCount:0},this.formLogs={loadCount:0}}ngOnInit(){this.resetDataSource()}createDataSource(a){const t=new h.xF({mode:this.dataSourceMode,idKey:this.dataSourceIdKey,labelKey:this.dataSourceLabelKey,disabledKey:"disabled",items:this.getDataSourceItems(a),searchDebounce:this.dataSourceSearchDebounce,loadTrigger:this.getPsSelectLoadTrigger(),sortBy:this.getPsSelectSortBy()});return this.reverseSort&&(t.sortCompare=(r,i)=>i.entity.id-r.entity.id),t}getPsSelectLoadTrigger(){return(this.loadTriggerInitial&&1)|(this.loadTriggerFirstPanelOpen&&2)|(this.loadTriggerEveryPanelOpen&&4)}getPsSelectSortBy(){return(this.sortBySelected&&1)|(this.sortByComparer&&2)}getDataSourceItems(a){switch(a.loadCount=0,this.dataSourceItems){case"default":let t=this.items;if(this.itemsAsObservable&&(t=(0,_.of)(t).pipe((0,U.b)(()=>{++a.loadCount}),(0,x.g)(1e3))),this.itemsAsFunction){const r=t;t=()=>(++a.loadCount,r)}return t;case"empty":return[];case"loading":return D.C;case"error":return(0,v._)(new Error("loading failed"))}}resetDataSource(){this.ngModelDataSource=this.createDataSource(this.ngModelLogs),this.formDataSource=this.createDataSource(this.formLogs)}patchUnknownItem(){const a=this.multiple?[this.unknowIitem]:this.unknowIitem;this.ngModel=a,this.form.patchValue({ctrl:a})}disabledChanged(){this.disabled?this.form.disable():this.form.enable()}recreate(){this.visible=!1,setTimeout(()=>{this.resetDataSource(),this.visible=!0,this.cd.markForCheck()},0)}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(e.sBO))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-select-demo"]],decls:120,vars:39,consts:[[1,"app-select-demo__settings"],[1,"app-select-demo__settings-box"],[3,"ngModel","ngModelChange","change"],[3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value"],["matInput","","type","number",3,"ngModel","ngModelChange","change"],["style","margin-bottom: 1em;",4,"ngIf"],[2,"margin-bottom","1em"],[2,"width","100%"],[3,"ngModel","dataSource","multiple","clearable","disabled","required","panelClass","ngModelChange"],[4,"ngIf"],[3,"formGroup"],["formControlName","ctrl",3,"dataSource","multiple","clearable","disabled","required","panelClass"],[4,"psSelectTriggerTemplate"],[4,"psSelectOptionTemplate"]],template:function(a,t){1&a&&(e.TgZ(0,"div",0)(1,"mat-card",1)(2,"strong"),e._uU(3,"ps-select"),e.qZA(),e.TgZ(4,"span"),e._uU(5,"[dataSource] = new DefaultPsSelectDataSource(...)"),e.qZA(),e.TgZ(6,"mat-checkbox",2),e.NdJ("ngModelChange",function(i){return t.multiple=i})("change",function(){return t.recreate()}),e._uU(7,"[multiple]"),e.qZA(),e.TgZ(8,"mat-checkbox",3),e.NdJ("ngModelChange",function(i){return t.clearable=i}),e._uU(9,"[clearable]"),e.qZA(),e.TgZ(10,"mat-checkbox",2),e.NdJ("ngModelChange",function(i){return t.disabled=i})("change",function(){return t.disabledChanged()}),e._uU(11,"[disabled]"),e.qZA(),e.TgZ(12,"mat-checkbox",3),e.NdJ("ngModelChange",function(i){return t.required=i}),e._uU(13,"[required]"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"[errorStateMatcher]"),e.qZA(),e.TgZ(16,"mat-checkbox",3),e.NdJ("ngModelChange",function(i){return t.panelClass=i}),e._uU(17,"[panelClass] (color: green)"),e.qZA(),e.TgZ(18,"div"),e._uU(19,"(openedChange) $event = boolean"),e.qZA(),e.TgZ(20,"div"),e._uU(21,"(selectionChange) $event = MatSelectChange"),e.qZA(),e.TgZ(22,"mat-checkbox",3),e.NdJ("ngModelChange",function(i){return t.customTriggerTpl=i}),e._uU(23,'*psSelectTriggerTemplate="let item"'),e.qZA(),e.TgZ(24,"mat-checkbox",3),e.NdJ("ngModelChange",function(i){return t.customOptionTpl=i}),e._uU(25,'*psSelectOptionTemplate="let item"'),e.qZA()(),e.TgZ(26,"mat-card",1)(27,"strong"),e._uU(28,"DefaultPsSelectDataSource"),e.qZA(),e.TgZ(29,"mat-form-field")(30,"mat-label"),e._uU(31,"items"),e.qZA(),e.TgZ(32,"mat-select",4),e.NdJ("ngModelChange",function(i){return t.dataSourceItems=i})("selectionChange",function(){return t.resetDataSource()}),e.TgZ(33,"mat-option",5),e._uU(34,"500 items"),e.qZA(),e.TgZ(35,"mat-option",5),e._uU(36,"error while loading"),e.qZA(),e.TgZ(37,"mat-option",5),e._uU(38,"endless loading"),e.qZA(),e.TgZ(39,"mat-option",5),e._uU(40,"empty result"),e.qZA()()(),e.TgZ(41,"strong"),e._uU(42,"items array"),e.qZA(),e.TgZ(43,"mat-checkbox",2),e.NdJ("ngModelChange",function(i){return t.itemsAsObservable=i})("change",function(){return t.resetDataSource()}),e._uU(44,"wrapped in observable"),e.qZA(),e.TgZ(45,"mat-checkbox",2),e.NdJ("ngModelChange",function(i){return t.itemsAsFunction=i})("change",function(){return t.resetDataSource()}),e._uU(46,"result of load function"),e.qZA(),e.TgZ(47,"mat-form-field")(48,"mat-label"),e._uU(49,"mode"),e.qZA(),e.TgZ(50,"mat-select",4),e.NdJ("ngModelChange",function(i){return t.dataSourceMode=i})("selectionChange",function(){return t.resetDataSource()}),e.TgZ(51,"mat-option",5),e._uU(52,"id"),e.qZA(),e.TgZ(53,"mat-option",5),e._uU(54,"entity"),e.qZA()()(),e.TgZ(55,"mat-form-field")(56,"mat-label"),e._uU(57,"idKey"),e.qZA(),e.TgZ(58,"mat-select",4),e.NdJ("ngModelChange",function(i){return t.dataSourceIdKey=i})("selectionChange",function(){return t.resetDataSource()}),e.TgZ(59,"mat-option",5),e._uU(60,"id property"),e.qZA(),e.TgZ(61,"mat-option",5),e._uU(62,"strId property"),e.qZA()()(),e.TgZ(63,"mat-form-field")(64,"mat-label"),e._uU(65,"labelKey"),e.qZA(),e.TgZ(66,"mat-select",4),e.NdJ("ngModelChange",function(i){return t.dataSourceLabelKey=i})("selectionChange",function(){return t.resetDataSource()}),e.TgZ(67,"mat-option",5),e._uU(68,"labelA property"),e.qZA(),e.TgZ(69,"mat-option",5),e._uU(70,"labelB property"),e.qZA()()(),e.TgZ(71,"mat-form-field")(72,"mat-label"),e._uU(73,"searchDebounce"),e.qZA(),e.TgZ(74,"input",6),e.NdJ("ngModelChange",function(i){return t.dataSourceSearchDebounce=i})("change",function(){return t.resetDataSource()}),e.qZA()(),e.TgZ(75,"strong"),e._uU(76,"loadTrigger"),e.qZA(),e.TgZ(77,"mat-checkbox",2),e.NdJ("ngModelChange",function(i){return t.loadTriggerInitial=i})("change",function(){return t.resetDataSource()}),e._uU(78,"Initial"),e.qZA(),e.TgZ(79,"mat-checkbox",2),e.NdJ("ngModelChange",function(i){return t.loadTriggerFirstPanelOpen=i})("change",function(){return t.resetDataSource()}),e._uU(80,"FirstPanelOpen"),e.qZA(),e.TgZ(81,"mat-checkbox",2),e.NdJ("ngModelChange",function(i){return t.loadTriggerEveryPanelOpen=i})("change",function(){return t.resetDataSource()}),e._uU(82,"EveryPanelOpen"),e.qZA(),e.TgZ(83,"strong"),e._uU(84,"sortBy"),e.qZA(),e.TgZ(85,"mat-checkbox",2),e.NdJ("ngModelChange",function(i){return t.sortBySelected=i})("change",function(){return t.resetDataSource()}),e._uU(86,"Selected"),e.qZA(),e.TgZ(87,"mat-checkbox",2),e.NdJ("ngModelChange",function(i){return t.sortByComparer=i})("change",function(){return t.resetDataSource()}),e._uU(88,"Comparer"),e.qZA(),e.TgZ(89,"strong"),e._uU(90,"sortCompare"),e.qZA(),e.TgZ(91,"mat-checkbox",2),e.NdJ("ngModelChange",function(i){return t.reverseSort=i})("change",function(){return t.resetDataSource()}),e._uU(92,"custom (reverse by id)"),e.qZA()()(),e.YNc(93,se,14,22,"mat-card",7),e.TgZ(94,"mat-card",8)(95,"strong"),e._uU(96,"ngModel logs"),e.qZA(),e.TgZ(97,"div"),e._uU(98),e.ALo(99,"json"),e.qZA(),e.TgZ(100,"div"),e._uU(101),e.qZA()(),e.TgZ(102,"mat-card",8)(103,"strong"),e._uU(104,"FormControl logs"),e.qZA(),e.TgZ(105,"div"),e._uU(106),e.ALo(107,"json"),e.qZA(),e.TgZ(108,"div"),e._uU(109),e.qZA()(),e._UZ(110,"app-select-with-multiselect")(111,"app-select-with-events-only")(112,"app-select-with-ng-model")(113,"app-select-with-selected-item-not-in-datasource")(114,"app-select-with-endless-loading-datasource")(115,"app-select-with-error-in-datasource")(116,"app-select-with-other-load-trigger")(117,"app-select-with-custom-select-service")(118,"app-select-with-custom-template")(119,"app-select-with-error-state-matcher")),2&a&&(e.xp6(6),e.Q6J("ngModel",t.multiple),e.xp6(2),e.Q6J("ngModel",t.clearable),e.xp6(2),e.Q6J("ngModel",t.disabled),e.xp6(2),e.Q6J("ngModel",t.required),e.xp6(4),e.Q6J("ngModel",t.panelClass),e.xp6(6),e.Q6J("ngModel",t.customTriggerTpl),e.xp6(2),e.Q6J("ngModel",t.customOptionTpl),e.xp6(8),e.Q6J("ngModel",t.dataSourceItems),e.xp6(1),e.Q6J("value","default"),e.xp6(2),e.Q6J("value","error"),e.xp6(2),e.Q6J("value","loading"),e.xp6(2),e.Q6J("value","empty"),e.xp6(4),e.Q6J("ngModel",t.itemsAsObservable),e.xp6(2),e.Q6J("ngModel",t.itemsAsFunction),e.xp6(5),e.Q6J("ngModel",t.dataSourceMode),e.xp6(1),e.Q6J("value","id"),e.xp6(2),e.Q6J("value","entity"),e.xp6(5),e.Q6J("ngModel",t.dataSourceIdKey),e.xp6(1),e.Q6J("value","id"),e.xp6(2),e.Q6J("value","strId"),e.xp6(5),e.Q6J("ngModel",t.dataSourceLabelKey),e.xp6(1),e.Q6J("value","labelA"),e.xp6(2),e.Q6J("value","labelB"),e.xp6(5),e.Q6J("ngModel",t.dataSourceSearchDebounce),e.xp6(3),e.Q6J("ngModel",t.loadTriggerInitial),e.xp6(2),e.Q6J("ngModel",t.loadTriggerFirstPanelOpen),e.xp6(2),e.Q6J("ngModel",t.loadTriggerEveryPanelOpen),e.xp6(4),e.Q6J("ngModel",t.sortBySelected),e.xp6(2),e.Q6J("ngModel",t.sortByComparer),e.xp6(4),e.Q6J("ngModel",t.reverseSort),e.xp6(2),e.Q6J("ngIf",t.visible),e.xp6(5),e.hij("value: ",e.lcZ(99,35,t.ngModel),""),e.xp6(3),e.hij("load count: ",t.ngModelLogs.loadCount,""),e.xp6(5),e.hij("value: ",e.lcZ(107,37,t.form.value.ctrl),""),e.xp6(3),e.hij("load count: ",t.formLogs.loadCount,""))},dependencies:[n.Fj,n.wV,n.JJ,n.JL,n.Q7,n.On,n.sg,n.u,g.KE,g.hX,k.gD,N.ey,p.c,I.U,y.k,u.O5,S.oG,Z.a8,A.Nt,Q,L,w,c,s,d,f,K,G,ee,u.Ts],styles:[".app-select-demo__settings{display:grid!important;grid-auto-flow:column;grid-gap:1em;gap:1em;margin-bottom:1em}.app-select-demo__settings-box{display:grid!important;grid-gap:1em;gap:1em;align-content:start}.app-select-demo__panel .mat-option-text{color:green}\n"],encapsulation:2,changeDetection:0}),o})(),me=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[n.u5,n.UX,h.a2.forRoot(h.Bc),u.ez,g.lN,b.Fk,S.p9,Z.QW,A.c,J.Bz.forChild([{path:"",component:de}])]}),o})()},3546:(F,T,m)=>{m.d(T,{QW:()=>w,a8:()=>y,dn:()=>h,hq:()=>v,rt:()=>U});var u=m(4650),n=m(3238);const Z=["*",[["mat-card-footer"]]],S=["*","mat-card-footer"];let h=(()=>{class c{}return c.\u0275fac=function(d){return new(d||c)},c.\u0275dir=u.lG2({type:c,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),c})(),v=(()=>{class c{constructor(){this.align="start"}}return c.\u0275fac=function(d){return new(d||c)},c.\u0275dir=u.lG2({type:c,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(d,f){2&d&&u.ekj("mat-card-actions-align-end","end"===f.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),c})(),U=(()=>{class c{}return c.\u0275fac=function(d){return new(d||c)},c.\u0275dir=u.lG2({type:c,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),c})(),y=(()=>{class c{constructor(d){this._animationMode=d}}return c.\u0275fac=function(d){return new(d||c)(u.Y36(u.QbO,8))},c.\u0275cmp=u.Xpm({type:c,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(d,f){2&d&&u.ekj("_mat-animation-noopable","NoopAnimations"===f._animationMode)},exportAs:["matCard"],ngContentSelectors:S,decls:2,vars:0,template:function(d,f){1&d&&(u.F$t(Z),u.Hsn(0),u.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),c})(),w=(()=>{class c{}return c.\u0275fac=function(d){return new(d||c)},c.\u0275mod=u.oAB({type:c}),c.\u0275inj=u.cJS({imports:[n.BQ,n.BQ]}),c})()}}]);