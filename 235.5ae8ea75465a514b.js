"use strict";(self.webpackChunkprosoft_components_demo=self.webpackChunkprosoft_components_demo||[]).push([[235],{2787:(L,M,n)=>{n.d(M,{F:()=>S,o:()=>p});var t=n(4650),e=n(6297);let p=(()=>{class f{constructor(D){this.extractor=D}transform(D){return this.extractor.extractErrorMessage(D)??""}}return f.\u0275fac=function(D){return new(D||f)(t.Y36(e.z,16))},f.\u0275pipe=t.Yjl({name:"psErrorMessage",type:f,pure:!0}),f})(),S=(()=>{class f{}return f.\u0275fac=function(D){return new(D||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({}),f})()},2235:(L,M,n)=>{n.d(M,{xF:()=>T,Bc:()=>le,a2:()=>z,QI:()=>V.Q}),n(2079);var e=n(6895),p=n(4006),S=n(4385),f=n(266),R=n(2787),D=n(3231),V=n(152),W=n(4650);let z=(()=>{class h{static forRoot(c){return{ngModule:h,providers:[{provide:V.Q,useClass:c}]}}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275mod=W.oAB({type:h}),h.\u0275inj=W.cJS({imports:[e.ez,p.u5,p.UX,S.LD,f.AV,D.Co,R.F,S.LD]}),h})();var K=n(1135),k=n(7579),N=n(9646),q=n(9841),x=n(6451),ee=n(1848),H=n(5191),I=n(4004),Q=n(2722),te=n(262),j=n(8505),B=n(3900),$=n(8675),J=n(6063);class w extends k.x{constructor(i=1/0,c=1/0,m=J.l){super(),this._bufferSize=i,this._windowTime=c,this._timestampProvider=m,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=c===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,c)}next(i){const{isStopped:c,_buffer:m,_infiniteTimeWindow:g,_timestampProvider:u,_windowTime:_}=this;c||(m.push(i),!g&&m.push(u.now()+_)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const c=this._innerSubscribe(i),{_infiniteTimeWindow:m,_buffer:g}=this,u=g.slice();for(let _=0;_<u.length&&!i.closed;_+=m?1:2)i.next(u[_]);return this._checkFinalizedStatuses(i),c}_trimBuffer(){const{_bufferSize:i,_timestampProvider:c,_buffer:m,_infiniteTimeWindow:g}=this,u=(g?1:2)*i;if(i<1/0&&u<m.length&&m.splice(0,m.length-u),!g){const _=c.now();let A=0;for(let l=1;l<m.length&&m[l]<=_;l+=2)A=l;A&&m.splice(0,A+1)}}}var Y=n(3099),F=n(1884),Z=n(8372),d=n(9300),P=n(5698),o=n(5684),a=n(8171);class T extends a.er{constructor(i){let c;super(),this._isPanelOpen$=new K.X(!1),this._searchText$=new K.X(""),this._currentValues$=new K.X([]),this._ngUnsubscribe$=new k.x,this.sortCompare=(u,_)=>u.label.localeCompare(_.label),this.searchCompare=(u,_)=>-1===u.label.toLowerCase().indexOf(_),this._searchDebounceTime=i.searchDebounce??300,this._loadTrigger=i.loadTrigger??1,this._sortBy=i.sortBy??3;const m=function se(h,i,c,m){return"id"===h?g=>({value:g[i],label:g[c],entity:g,disabled:m&&g[m]||!1}):g=>({value:g,label:g[c],entity:g,disabled:m&&g[m]||!1})}(i.mode,i.idKey,i.labelKey,i.disabledKey),g=i.items;if("function"!=typeof g){const u=G(g).pipe((0,I.U)(_=>_.map(m)),(0,Q.R)(this._ngUnsubscribe$));c=()=>u}else{const u=g;c=()=>G(u()).pipe((0,I.U)(_=>_.map(m)))}"entity"===i.mode&&(this.compareWith=function X(h){return(i,c)=>i===c||!(typeof i!=typeof c||!i||!c||"object"!=typeof i)&&i[h]===c[h]}(i.idKey),this.getItemsForValues=u=>u.map(m)),this._loadData=()=>(this.loading=!0,this.error=null,c().pipe((0,te.K)(u=>(this.error=u,(0,N.of)([]))),(0,j.b)(()=>{this.loading=!1})))}connect(){const c=this._createOptionsLoadTrigger().pipe((0,B.w)(()=>this._loadData()),(0,$.O)([]),(0,I.U)(u=>u.map(ae)),function ne(h,i,c){let m,g=!1;return h&&"object"==typeof h?({bufferSize:m=1/0,windowTime:i=1/0,refCount:g=!1,scheduler:c}=h):m=h??1/0,(0,Y.B)({connector:()=>new w(m,i,c),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:g})}({bufferSize:1,refCount:!0})),m=c.pipe((0,B.w)(u=>this._currentValues$.pipe((0,I.U)(_=>_.filter(A=>!u.find(l=>this.compareWith(l.value,A)))))),(0,F.x)((u,_)=>{if(u.length!==_.length)return!1;for(const A of u)if(!_.find(l=>this.compareWith(l,A)))return!1;return!0}),(0,I.U)(u=>this.getItemsForValues(u).map(ae)));let g=(0,q.a)([c,m]).pipe((0,Z.b)(0),(0,I.U)(([u,_])=>_.concat(u)));if(this._sortBy){const u=this._createSortTrigger();g=g.pipe((0,B.w)(_=>u.pipe((0,I.U)(()=>this._cloneAndSort(_)))))}return g=g.pipe((0,B.w)(u=>this._searchText$.pipe((0,Z.b)(this._searchDebounceTime),(0,$.O)(this._searchText$.value),(0,I.U)(_=>(_||"").toLowerCase()),(0,F.x)(),(0,I.U)(_=>(u.forEach(A=>{A.hidden=this.searchCompare(A,_)}),u))))),g}disconnect(){this._isPanelOpen$.complete(),this._searchText$.complete(),this._currentValues$.complete(),this._ngUnsubscribe$.next(),this._ngUnsubscribe$.complete()}panelOpenChanged(i){this._isPanelOpen$.next(i)}searchTextChanged(i){this._searchText$.next(i)}selectedValuesChanged(i){this._currentValues$.next(i)}getItemsForValues(i){return i.map(c=>({value:c,label:`??? (ID: ${c})`}))}_createOptionsLoadTrigger(){const i=[];1&this._loadTrigger&&i.push((0,N.of)(null));const c=this._isPanelOpen$.pipe((0,F.x)(),(0,d.h)(m=>m));return 4&this._loadTrigger?i.push(c):2&this._loadTrigger&&i.push(c.pipe((0,P.q)(1))),(0,x.T)(...i)}_createSortTrigger(){const i=this._isPanelOpen$.pipe((0,o.T)(1),(0,F.x)(),(0,d.h)(m=>!m)),c=this._isPanelOpen$.pipe((0,F.x)(),(0,B.w)(m=>m?ee.C:this._currentValues$.pipe((0,o.T)(1))));return(0,x.T)(i,c).pipe((0,$.O)(0))}_cloneAndSort(i){let c=null;if(1&this._sortBy){const g=i.filter(u=>this._currentValues$.value.find(_=>this.compareWith(u.value,_)));c=new WeakSet(g)}return i.slice().sort((g,u)=>{if(1&this._sortBy){const _=+c.has(g),l=+c.has(u)-_;if(l)return l}return 2&this._sortBy?this.sortCompare(g,u):0})}}function G(h){return(0,H.b)(h)||(h=(0,N.of)(h)),h}function ae(h){return h.label?"string"!=typeof h.label&&(h.label=`${h.label}`):h.label="",h}var ie=n(2903);let le=(()=>{class h extends V.Q{createDataSource(c,m){if((0,a.Xy)(c))return c;let g;if(Array.isArray(c)||(0,H.b)(c))g={mode:"id",labelKey:"label",idKey:"value",items:c};else{if(!function E(h){return"object"==typeof h&&"idKey"in h&&"labelKey"in h&&"items"in h&&"mode"in h}(c))throw(0,ie.$)();g=c}return new T(g)}}return h.\u0275fac=function(){let i;return function(m){return(i||(i=W.n5z(h)))(m||h)}}(),h.\u0275prov=W.Yz7({token:h,factory:h.\u0275fac}),h})()},2903:(L,M,n)=>{function t(){return Error("The provided data source did not match any of the compatible types")}n.d(M,{$:()=>t})},8171:(L,M,n)=>{n.d(M,{Xy:()=>p,er:()=>e,tm:()=>t});const t=(S,f)=>S===f;class e{constructor(){this.loading=!1,this.error=null,this.compareWith=t}}function p(S){return S&&"function"==typeof S.connect}},6328:(L,M,n)=>{n.d(M,{U:()=>e});var t=n(4650);let e=(()=>{class p{constructor(f){this.templateRef=f}}return p.\u0275fac=function(f){return new(f||p)(t.Y36(t.Rgc))},p.\u0275dir=t.lG2({type:p,selectors:[["","psSelectOptionTemplate",""]]}),p})()},5028:(L,M,n)=>{n.d(M,{k:()=>e});var t=n(4650);let e=(()=>{class p{constructor(f){this.templateRef=f}}return p.\u0275fac=function(f){return new(f||p)(t.Y36(t.Rgc))},p.\u0275dir=t.lG2({type:p,selectors:[["","psSelectTriggerTemplate",""]]}),p})()},2079:(L,M,n)=>{n.d(M,{c:()=>Z});var t=n(4650),e=n(4006),p=n(3238),S=n(9549),f=n(4385),R=n(7579),D=n(1135),V=n(727),W=n(2722),z=n(2903),K=n(8171),k=n(6328),N=n(5028),q=n(152),x=n(6895),ee=n(266),H=n(3231),I=n(2787);const Q=function(d){return{$implicit:d}};function te(d,P){if(1&d&&(t.TgZ(0,"mat-select-trigger"),t.GkF(1,8),t.qZA()),2&d){const o=t.oxw();t.xp6(1),t.Q6J("ngTemplateOutlet",o.triggerTemplate)("ngTemplateOutletContext",t.VKq(2,Q,o.customTriggerData))}}function j(d,P){if(1&d&&(t.TgZ(0,"mat-option",9)(1,"span",10),t._uU(2),t.ALo(3,"psErrorMessage"),t.qZA()()),2&d){const o=t.oxw();t.Q6J("disabled",!0),t.xp6(2),t.Oqu(t.lcZ(3,2,o.error))}}function B(d,P){1&d&&(t.TgZ(0,"mat-option",11),t._uU(1," -- "),t.qZA())}function $(d,P){if(1&d&&(t.ynx(0),t._uU(1),t.BQk()),2&d){const o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o.label," ")}}function J(d,P){}function w(d,P){if(1&d&&t.YNc(0,J,0,0,"ng-template",8),2&d){const o=t.oxw().$implicit,a=t.oxw();t.Q6J("ngTemplateOutlet",a.optionTemplate)("ngTemplateOutletContext",t.VKq(2,Q,o))}}function Y(d,P){if(1&d&&(t.TgZ(0,"mat-option",12),t.YNc(1,$,2,1,"ng-container",2),t.YNc(2,w,1,4,null,2),t.qZA()),2&d){const o=P.$implicit,a=t.oxw();t.ekj("ps-select__option--hidden",o.hidden),t.Q6J("value",o.value)("disabled",o.disabled),t.xp6(1),t.Q6J("ngIf",!a.optionTemplate),t.xp6(1),t.Q6J("ngIf",a.optionTemplate)}}const F=(0,p.Id)((0,p.FD)(class ne{constructor(P,o,a,E,T){this._elementRef=P,this._defaultErrorStateMatcher=o,this._parentForm=a,this._parentFormGroup=E,this.ngControl=T,this.stateChanges=new R.x}}));let Z=(()=>{class d extends F{constructor(o,a,E,T,G,se,X){super(o,a,G,se,X),this.selectService=E,this.cd=T,this.ngControl=X,this.id="ps-select-"+d.nextId++,this.optionTemplate=null,this.triggerTemplate=null,this.viewChange=new D.X({start:0,end:Number.MAX_VALUE}),this._value=null,this.clearable=!0,this.showToggleAll=!0,this.multiple=!1,this.errorStateMatcher=null,this.panelClass=null,this.placeholder=null,this.required=!1,this.valueChange=new t.vpe,this.openedChange=new t.vpe,this.selectionChange=new t.vpe,this.empty=!0,this.controlType="ps-select",this.filterCtrl=new e.NI(""),this.items=[],this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this._ngUnsubscribe$=new R.x,this._renderChangeSubscription=V.w0.EMPTY,this._onInitCalled=!1,this._onChange=()=>{},this.ngControl&&(this.ngControl.valueAccessor=this)}set setMatSelect(o){this._matSelect=o;const a=o.close;o.close=()=>{a.call(o),o.stateChanges.next()}}get dataSource(){return this._dataSourceInstance}set dataSource(o){this._dataSourceInput!==o&&(this._dataSourceInput=o,this._switchDataSource(o))}get value(){return this._value}set value(o){this._propagateValueChange(o,3)}get shouldLabelFloat(){return!this.empty}get focused(){return this._matSelect.focused}get compareWith(){return this._dataSourceInstance?.compareWith??K.tm}get loading(){return!!this._dataSourceInstance?.loading}get hasError(){return!!this.error}get error(){return this._dataSourceInstance?.error}get showEmptyInput(){if(this.multiple||!this.clearable||!this.items?.length)return!1;const o=(this.filterCtrl.value||"").toLowerCase();return!o||"--".indexOf(o)>-1}get tooltip(){return this.multiple&&this._matSelect?._selectionModel&&this._matSelect.selected?this._matSelect.selected.map(o=>o.viewValue).join(", "):""}get customTriggerData(){if(this.empty)return null;const o=this._matSelect._selectionModel.selected.map(function a(E){return{value:E.value,viewValue:E.viewValue}});return this.multiple?(this._matSelect._isRtl()&&o.reverse(),o):o[0]}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnInit(){this._onInitCalled=!0,this._switchDataSource(this._dataSourceInput),this.filterCtrl.valueChanges.pipe((0,W.R)(this._ngUnsubscribe$)).subscribe(o=>this.dataSource.searchTextChanged(o)),this._matSelect.stateChanges.pipe((0,W.R)(this._ngUnsubscribe$)).subscribe(this.stateChanges)}ngOnDestroy(){this._ngUnsubscribe$.next(),this._ngUnsubscribe$.complete(),this.viewChange.complete(),this._renderChangeSubscription.unsubscribe()}onContainerClick(o){this._matSelect.onContainerClick()}setDescribedByIds(o){this._matSelect.setDescribedByIds(o)}writeValue(o){this._propagateValueChange(o,4)}registerOnChange(o){this._onChange=o}registerOnTouched(o){this._matSelect.registerOnTouched(o)}setDisabledState(o){this.disabled=o}onSelectionChange(o){this._updateToggleAllCheckbox(),this.selectionChange.emit(o)}onOpenedChange(o){this.openedChange.emit(o),this._dataSourceInstance.panelOpenChanged(o)}onValueChange(o){this._propagateValueChange(o,1)}onToggleAll(o){const a=o?this.items.map(E=>E.value):[];this._propagateValueChange(a,2)}trackByOptions(o,a){return`${a.value}#${a.label}`}_propagateValueChange(o,a){this._value=o,this.empty=this.multiple?!o?.length:!o,this._updateToggleAllCheckbox(),this._pushSelectedValuesToDataSource(o),3!==a&&this.valueChange.emit(o),4!==a&&this._onChange(o),this.cd.markForCheck()}_pushSelectedValuesToDataSource(o){if(!this._dataSourceInstance)return;let a;a=this.multiple?Array.isArray(o)?o:[]:o?[o]:[],this._dataSourceInstance.selectedValuesChanged(a)}_switchDataSource(o){if(this._onInitCalled){if(this._dataSourceInstance?.disconnect(),this._renderChangeSubscription.unsubscribe(),this._dataSourceInstance=this.selectService.createDataSource(o,this.ngControl?.control),!(0,K.Xy)(this._dataSourceInstance))throw(0,z.$)();this._dataSourceInstance.searchTextChanged(this.filterCtrl.value),this._dataSourceInstance.panelOpenChanged(this._matSelect.panelOpen),this._pushSelectedValuesToDataSource(this._value),this._renderChangeSubscription=this._dataSourceInstance.connect().subscribe(a=>{this.items=a||[],this._updateToggleAllCheckbox(),this.cd.markForCheck()})}}_updateToggleAllCheckbox(){if(this.multiple&&this.items&&Array.isArray(this._value)){const o=this._value.length;this.toggleAllCheckboxChecked=this.items.length===o,this.toggleAllCheckboxIndeterminate=o>0&&o<this.items.length}}}return d.nextId=0,d.\u0275fac=function(o){return new(o||d)(t.Y36(t.SBq),t.Y36(p.rD),t.Y36(q.Q),t.Y36(t.sBO),t.Y36(e.F,8),t.Y36(e.sg,8),t.Y36(e.a5,10))},d.\u0275cmp=t.Xpm({type:d,selectors:[["ps-select"]],contentQueries:function(o,a,E){if(1&o&&(t.Suo(E,k.U,5,t.Rgc),t.Suo(E,N.k,5,t.Rgc)),2&o){let T;t.iGM(T=t.CRH())&&(a.optionTemplate=T.first),t.iGM(T=t.CRH())&&(a.triggerTemplate=T.first)}},viewQuery:function(o,a){if(1&o&&t.Gf(f.gD,7),2&o){let E;t.iGM(E=t.CRH())&&(a.setMatSelect=E.first)}},hostAttrs:[1,"ps-select"],hostVars:11,hostBindings:function(o,a){2&o&&(t.Ikx("id",a.id),t.ekj("ps-select-multiple",a.multiple)("ps-select-disabled",a.disabled)("ps-select-invalid",a.errorState)("ps-select-required",a.required)("ps-select-empty",a.empty))},inputs:{disabled:"disabled",dataSource:"dataSource",value:"value",clearable:"clearable",showToggleAll:"showToggleAll",multiple:"multiple",errorStateMatcher:"errorStateMatcher",panelClass:"panelClass",placeholder:"placeholder",required:"required"},outputs:{valueChange:"valueChange",openedChange:"openedChange",selectionChange:"selectionChange"},features:[t._Bn([{provide:S.Eo,useExisting:d}]),t.qOj],decls:8,vars:21,consts:[[3,"matTooltip","matTooltipDisabled"],[3,"ngModel","disableOptionCentering","compareWith","disabled","multiple","errorStateMatcher","panelClass","placeholder","required","valueChange","selectionChange","openedChange"],[4,"ngIf"],[1,"ps-select__search"],[3,"formControl","searching","showToggleAllCheckbox","toggleAllCheckboxChecked","toggleAllCheckboxIndeterminate","toggleAll"],["class","ps-select__error",3,"disabled",4,"ngIf"],["class","ps-select__empty-option",4,"ngIf"],["class","ps-select__option",3,"value","ps-select__option--hidden","disabled",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ps-select__error",3,"disabled"],[1,"ps-select__error-message"],[1,"ps-select__empty-option"],[1,"ps-select__option",3,"value","disabled"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"mat-select",1),t.NdJ("valueChange",function(T){return a.onValueChange(T)})("selectionChange",function(T){return a.onSelectionChange(T)})("openedChange",function(T){return a.onOpenedChange(T)}),t.YNc(2,te,2,4,"mat-select-trigger",2),t.TgZ(3,"mat-option",3)(4,"ngx-mat-select-search",4),t.NdJ("toggleAll",function(T){return a.onToggleAll(T)}),t.qZA()(),t.YNc(5,j,4,4,"mat-option",5),t.YNc(6,B,2,0,"mat-option",6),t.YNc(7,Y,3,6,"mat-option",7),t.qZA()()),2&o&&(t.Q6J("matTooltip",a.tooltip)("matTooltipDisabled",!a.multiple),t.xp6(1),t.Q6J("ngModel",a.value)("disableOptionCentering",!0)("compareWith",a.compareWith)("disabled",a.disabled)("multiple",a.multiple)("errorStateMatcher",a.errorStateMatcher)("panelClass",a.panelClass)("placeholder",a.placeholder)("required",a.required),t.xp6(1),t.Q6J("ngIf",a.triggerTemplate&&!a.empty),t.xp6(2),t.Q6J("formControl",a.filterCtrl)("searching",a.loading)("showToggleAllCheckbox",a.showToggleAll)("toggleAllCheckboxChecked",a.toggleAllCheckboxChecked)("toggleAllCheckboxIndeterminate",a.toggleAllCheckboxIndeterminate),t.xp6(1),t.Q6J("ngIf",a.hasError),t.xp6(1),t.Q6J("ngIf",a.showEmptyInput),t.xp6(1),t.Q6J("ngForOf",a.items)("ngForTrackBy",a.trackByOptions))},dependencies:[x.sg,x.O5,x.tP,e.JJ,e.Q7,e.On,e.oH,f.gD,f.$L,p.ey,ee.gM,H.nu,I.o],styles:[".ps-select__option--hidden{display:none!important}.ps-select__error-message{color:red}ngx-mat-select-search .mat-select-search-clear{line-height:1;width:2.5em;height:2.5em}\n"],encapsulation:2,changeDetection:0}),d})()},152:(L,M,n)=>{n.d(M,{Q:()=>e});var t=n(4650);let e=(()=>{class p{}return p.\u0275fac=function(f){return new(f||p)},p.\u0275prov=t.Yz7({token:p,factory:p.\u0275fac}),p})()},1848:(L,M,n)=>{n.d(M,{C:()=>p});var t=n(8306),e=n(5032);const p=new t.y(e.Z)},5191:(L,M,n)=>{n.d(M,{b:()=>p});var t=n(8306),e=n(576);function p(S){return!!S&&(S instanceof t.y||(0,e.m)(S.lift)&&(0,e.m)(S.subscribe))}},3231:(L,M,n)=>{n.d(M,{Co:()=>A,nu:()=>u});var t=n(9521),e=n(4650),p=n(4006),S=n(3238),f=n(9549),R=n(4385),D=n(1135),V=n(9646),W=n(9841),z=n(7579),K=n(3900),k=n(4004),N=n(8675),q=n(1005),x=n(2722),ee=n(5698),H=n(9300),I=n(8505),Q=n(5589),te=n(2687),j=n(6709),B=n(1572),$=n(4859),J=n(7392),w=n(6895),Y=n(266);const ne=["searchSelectInput"],F=["innerSelectSearch"];function Z(l,v){if(1&l){const s=e.EpF();e.TgZ(0,"mat-checkbox",9),e.NdJ("change",function(C){e.CHM(s);const O=e.oxw();return e.KtG(O._emitSelectAllBooleanToParent(C.checked))}),e.qZA()}if(2&l){const s=e.oxw();e.Q6J("color",null==s.matFormField?null:s.matFormField.color)("checked",s.toggleAllCheckboxChecked)("indeterminate",s.toggleAllCheckboxIndeterminate)("matTooltip",s.toggleAllCheckboxTooltipMessage)("matTooltipPosition",s.toogleAllCheckboxTooltipPosition)}}function d(l,v){1&l&&e._UZ(0,"mat-spinner",10)}function P(l,v){1&l&&e.Hsn(0,1,["*ngIf","clearIcon; else defaultIcon"])}function o(l,v){if(1&l&&(e.TgZ(0,"mat-icon",14),e._uU(1),e.qZA()),2&l){const s=e.oxw(2);e.Q6J("svgIcon",s.closeSvgIcon),e.xp6(1),e.hij(" ",s.closeSvgIcon?null:s.closeIcon," ")}}function a(l,v){if(1&l){const s=e.EpF();e.TgZ(0,"button",11),e.NdJ("click",function(){e.CHM(s);const C=e.oxw();return e.KtG(C._reset(!0))}),e.YNc(1,P,1,0,"ng-content",12),e.YNc(2,o,2,2,"ng-template",null,13,e.W1O),e.qZA()}if(2&l){const s=e.MAs(3),r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.clearIcon)("ngIfElse",s)}}function E(l,v){1&l&&e.Hsn(0,2,["*ngIf","noEntriesFound; else defaultNoEntriesFound"])}function T(l,v){if(1&l&&e._uU(0),2&l){const s=e.oxw(2);e.Oqu(s.noEntriesFoundLabel)}}function G(l,v){if(1&l&&(e.TgZ(0,"div",15),e.YNc(1,E,1,0,"ng-content",12),e.YNc(2,T,1,1,"ng-template",null,16,e.W1O),e.qZA()),2&l){const s=e.MAs(3),r=e.oxw();e.xp6(1),e.Q6J("ngIf",r.noEntriesFound)("ngIfElse",s)}}const se=[[["",8,"mat-select-search-custom-header-content"]],[["","ngxMatSelectSearchClear",""]],[["","ngxMatSelectNoEntriesFound",""]]],X=function(l,v){return{"mat-select-search-inner-multiple":l,"mat-select-search-inner-toggle-all":v}},ae=[".mat-select-search-custom-header-content","[ngxMatSelectSearchClear]","[ngxMatSelectNoEntriesFound]"];let ie=(()=>{class l{}return l.\u0275fac=function(s){return new(s||l)},l.\u0275dir=e.lG2({type:l,selectors:[["","ngxMatSelectSearchClear",""]]}),l})();const le=["ariaLabel","clearSearchInput","closeIcon","closeSvgIcon","disableInitialFocus","disableScrollToActiveOnOptionsChanged","enableClearOnEscapePressed","hideClearSearchButton","indexAndLengthScreenReaderText","noEntriesFoundLabel","placeholderLabel","preventHomeEndKeyPropagation","searching"],h=new e.OlP("mat-selectsearch-default-options");let m=(()=>{class l{}return l.\u0275fac=function(s){return new(s||l)},l.\u0275dir=e.lG2({type:l,selectors:[["","ngxMatSelectNoEntriesFound",""]]}),l})(),u=(()=>{class l{constructor(s,r,C,O=null,b,U=null,oe){this.matSelect=s,this.changeDetectorRef=r,this._viewportRuler=C,this.matOption=O,this.liveAnnouncer=b,this.matFormField=U,this.placeholderLabel="Suche",this.type="text",this.closeIcon="close",this.noEntriesFoundLabel="Keine Optionen gefunden",this.indexAndLengthScreenReaderText=" of ",this.clearSearchInput=!0,this.searching=!1,this.disableInitialFocus=!1,this.enableClearOnEscapePressed=!1,this.preventHomeEndKeyPropagation=!1,this.disableScrollToActiveOnOptionsChanged=!1,this.ariaLabel="dropdown search",this.showToggleAllCheckbox=!1,this.toggleAllCheckboxChecked=!1,this.toggleAllCheckboxIndeterminate=!1,this.toggleAllCheckboxTooltipMessage="",this.toogleAllCheckboxTooltipPosition="below",this.hideClearSearchButton=!1,this.alwaysRestoreSelectedOptionsMulti=!1,this.toggleAll=new e.vpe,this.onTouched=y=>{},this._options$=new D.X(null),this.optionsList$=this._options$.pipe((0,K.w)(y=>y?y.changes.pipe((0,k.U)(re=>re.toArray()),(0,N.O)(y.toArray())):(0,V.of)(null))),this.optionsLength$=this.optionsList$.pipe((0,k.U)(y=>y?y.length:0)),this._formControl=new p.NI(""),this._showNoEntriesFound$=(0,W.a)([this._formControl.valueChanges,this.optionsLength$]).pipe((0,k.U)(([y,re])=>this.noEntriesFoundLabel&&y&&re===this.getOptionsLengthOffset())),this._onDestroy=new z.x,this.applyDefaultOptions(oe)}get isInsideMatOption(){return!!this.matOption}get value(){return this._formControl.value}set _options(s){this._options$.next(s)}get _options(){return this._options$.getValue()}applyDefaultOptions(s){if(s)for(const r of le)s.hasOwnProperty(r)&&(this[r]=s[r])}ngOnInit(){const s="mat-select-search-panel";this.matSelect.panelClass?Array.isArray(this.matSelect.panelClass)?this.matSelect.panelClass.push(s):"string"==typeof this.matSelect.panelClass?this.matSelect.panelClass=[this.matSelect.panelClass,s]:"object"==typeof this.matSelect.panelClass&&(this.matSelect.panelClass[s]=!0):this.matSelect.panelClass=s,this.matOption?(this.matOption.disabled=!0,this.matOption._getHostElement().classList.add("contains-mat-select-search")):console.error("<ngx-mat-select-search> must be placed inside a <mat-option> element"),this.matSelect.openedChange.pipe((0,q.g)(1),(0,x.R)(this._onDestroy)).subscribe(r=>{r?(this.updateInputWidth(),this.disableInitialFocus||this._focus()):this.clearSearchInput&&this._reset()}),this.matSelect.openedChange.pipe((0,ee.q)(1)).pipe((0,x.R)(this._onDestroy)).subscribe(()=>{this.matSelect._keyManager?this.matSelect._keyManager.change.pipe((0,x.R)(this._onDestroy)).subscribe(()=>this.adjustScrollTopToFitActiveOptionIntoView()):console.log("_keyManager was not initialized."),this._options=this.matSelect.options;let r=this._options.toArray()[this.getOptionsLengthOffset()];this._options.changes.pipe((0,x.R)(this._onDestroy)).subscribe(()=>{setTimeout(()=>{const C=this._options.toArray(),O=C[this.getOptionsLengthOffset()],b=this.matSelect._keyManager;b&&this.matSelect.panelOpen&&((!this.matSelect.compareWith(r,O)||!b.activeItem||!C.find(oe=>this.matSelect.compareWith(oe,b.activeItem)))&&b.setFirstItemActive(),setTimeout(()=>{this.updateInputWidth()}),this.disableScrollToActiveOnOptionsChanged||this.adjustScrollTopToFitActiveOptionIntoView()),r=O})})}),this._showNoEntriesFound$.pipe((0,x.R)(this._onDestroy)).subscribe(r=>{this.matOption&&(r?this.matOption._getHostElement().classList.add("mat-select-search-no-entries-found"):this.matOption._getHostElement().classList.remove("mat-select-search-no-entries-found"))}),this._viewportRuler.change().pipe((0,x.R)(this._onDestroy)).subscribe(()=>{this.matSelect.panelOpen&&this.updateInputWidth()}),this.initMultipleHandling(),this.optionsList$.pipe((0,x.R)(this._onDestroy)).subscribe(()=>{this.changeDetectorRef.markForCheck()})}_emitSelectAllBooleanToParent(s){this.toggleAll.emit(s)}ngOnDestroy(){this._onDestroy.next(),this._onDestroy.complete()}_isToggleAllCheckboxVisible(){return this.matSelect.multiple&&this.showToggleAllCheckbox}_handleKeydown(s){(s.key&&1===s.key.length||s.keyCode>=t.A&&s.keyCode<=t.Z||s.keyCode>=t.xE&&s.keyCode<=t.aO||s.keyCode===t.L_||this.preventHomeEndKeyPropagation&&(s.keyCode===t.Sd||s.keyCode===t.uR))&&s.stopPropagation(),this.matSelect.multiple&&s.key&&s.keyCode===t.K5&&setTimeout(()=>this._focus()),!0===this.enableClearOnEscapePressed&&s.keyCode===t.hY&&this.value&&(this._reset(!0),s.stopPropagation())}_handleKeyup(s){if(s.keyCode===t.LH||s.keyCode===t.JH){const r=this.matSelect._getAriaActiveDescendant(),C=this._options.toArray().findIndex(O=>O.id===r);if(-1!==C){const O=this._options.toArray()[C];this.liveAnnouncer.announce(O.viewValue+" "+this.getAriaIndex(C)+this.indexAndLengthScreenReaderText+this.getAriaLength())}}}getAriaIndex(s){return 0===this.getOptionsLengthOffset()?s+1:s}getAriaLength(){return this._options.toArray().length-this.getOptionsLengthOffset()}writeValue(s){this._lastExternalInputValue=s,this._formControl.setValue(s),this.changeDetectorRef.markForCheck()}onBlur(){this.onTouched()}registerOnChange(s){this._formControl.valueChanges.pipe((0,H.h)(r=>r!==this._lastExternalInputValue),(0,I.b)(()=>this._lastExternalInputValue=void 0),(0,x.R)(this._onDestroy)).subscribe(s)}registerOnTouched(s){this.onTouched=s}_focus(){if(!this.searchSelectInput||!this.matSelect.panel)return;const s=this.matSelect.panel.nativeElement,r=s.scrollTop;this.searchSelectInput.nativeElement.focus(),s.scrollTop=r}_reset(s){this._formControl.setValue(""),s&&this._focus()}initMultipleHandling(){this.matSelect.ngControl?(this.previousSelectedValues=this.matSelect.ngControl.value,this.matSelect.ngControl.valueChanges.pipe((0,x.R)(this._onDestroy)).subscribe(s=>{let r=!1;const C=s&&Array.isArray(s)?[...s]:[];if(this.matSelect.multiple&&(this.alwaysRestoreSelectedOptionsMulti||this._formControl.value&&this._formControl.value.length)&&this.previousSelectedValues&&Array.isArray(this.previousSelectedValues)){const O=this.matSelect.options.map(b=>b.value);this.previousSelectedValues.forEach(b=>{!C.some(U=>this.matSelect.compareWith(U,b))&&!O.some(U=>this.matSelect.compareWith(U,b))&&(C.push(b),r=!0)})}this.previousSelectedValues=C,r&&this.matSelect._onChange(C)})):this.matSelect.multiple&&console.error("the mat-select containing ngx-mat-select-search must have a ngModel or formControl directive when multiple=true")}adjustScrollTopToFitActiveOptionIntoView(){if(this.matSelect.panel&&this.matSelect.options.length>0){const s=this.getMatOptionHeight(),r=this.matSelect._keyManager.activeItemIndex||0,C=(0,S.CB)(r,this.matSelect.options,this.matSelect.optionGroups),O=(this.matOption?-1:0)+C+r,b=this.matSelect.panel.nativeElement.scrollTop,U=this.innerSelectSearch.nativeElement.offsetHeight,oe=Math.floor((256-U)/s),y=Math.round((b+U)/s)-1;y>=O?this.matSelect.panel.nativeElement.scrollTop=O*s:y+oe<=O&&(this.matSelect.panel.nativeElement.scrollTop=(O+1)*s-(256-U))}}updateInputWidth(){if(!this.innerSelectSearch||!this.innerSelectSearch.nativeElement)return;let r,s=this.innerSelectSearch.nativeElement;for(;s=s.parentElement;)if(s.classList.contains("mat-select-panel")){r=s;break}r&&(this.innerSelectSearch.nativeElement.style.width=r.clientWidth+"px")}getMatOptionHeight(){return this.matSelect.options.length>0?this.matSelect.options.first._getHostElement().getBoundingClientRect().height:0}getOptionsLengthOffset(){return this.matOption?1:0}}return l.\u0275fac=function(s){return new(s||l)(e.Y36(R.gD),e.Y36(e.sBO),e.Y36(Q.rL),e.Y36(S.ey,8),e.Y36(te.Kd),e.Y36(f.KE,8),e.Y36(h,8))},l.\u0275cmp=e.Xpm({type:l,selectors:[["ngx-mat-select-search"]],contentQueries:function(s,r,C){if(1&s&&(e.Suo(C,ie,5),e.Suo(C,m,5)),2&s){let O;e.iGM(O=e.CRH())&&(r.clearIcon=O.first),e.iGM(O=e.CRH())&&(r.noEntriesFound=O.first)}},viewQuery:function(s,r){if(1&s&&(e.Gf(ne,7,e.SBq),e.Gf(F,7,e.SBq)),2&s){let C;e.iGM(C=e.CRH())&&(r.searchSelectInput=C.first),e.iGM(C=e.CRH())&&(r.innerSelectSearch=C.first)}},hostVars:2,hostBindings:function(s,r){2&s&&e.ekj("mat-select-search-inside-mat-option",r.isInsideMatOption)},inputs:{placeholderLabel:"placeholderLabel",type:"type",closeIcon:"closeIcon",closeSvgIcon:"closeSvgIcon",noEntriesFoundLabel:"noEntriesFoundLabel",indexAndLengthScreenReaderText:"indexAndLengthScreenReaderText",clearSearchInput:"clearSearchInput",searching:"searching",disableInitialFocus:"disableInitialFocus",enableClearOnEscapePressed:"enableClearOnEscapePressed",preventHomeEndKeyPropagation:"preventHomeEndKeyPropagation",disableScrollToActiveOnOptionsChanged:"disableScrollToActiveOnOptionsChanged",ariaLabel:"ariaLabel",showToggleAllCheckbox:"showToggleAllCheckbox",toggleAllCheckboxChecked:"toggleAllCheckboxChecked",toggleAllCheckboxIndeterminate:"toggleAllCheckboxIndeterminate",toggleAllCheckboxTooltipMessage:"toggleAllCheckboxTooltipMessage",toogleAllCheckboxTooltipPosition:"toogleAllCheckboxTooltipPosition",hideClearSearchButton:"hideClearSearchButton",alwaysRestoreSelectedOptionsMulti:"alwaysRestoreSelectedOptionsMulti"},outputs:{toggleAll:"toggleAll"},features:[e._Bn([{provide:p.JU,useExisting:(0,e.Gpc)(()=>l),multi:!0}])],ngContentSelectors:ae,decls:11,vars:14,consts:[["matInput","",1,"mat-select-search-input","mat-select-search-hidden"],[1,"mat-select-search-inner","mat-typography","mat-datepicker-content","mat-tab-header",3,"ngClass"],["innerSelectSearch",""],["class","mat-select-search-toggle-all-checkbox","matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change",4,"ngIf"],["autocomplete","off",1,"mat-select-search-input","mat-input-element",3,"type","formControl","placeholder","keydown","keyup","blur"],["searchSelectInput",""],["class","mat-select-search-spinner","diameter","16",4,"ngIf"],["mat-button","","mat-icon-button","","aria-label","Clear","class","mat-select-search-clear",3,"click",4,"ngIf"],["class","mat-select-search-no-entries-found",4,"ngIf"],["matTooltipClass","ngx-mat-select-search-toggle-all-tooltip",1,"mat-select-search-toggle-all-checkbox",3,"color","checked","indeterminate","matTooltip","matTooltipPosition","change"],["diameter","16",1,"mat-select-search-spinner"],["mat-button","","mat-icon-button","","aria-label","Clear",1,"mat-select-search-clear",3,"click"],[4,"ngIf","ngIfElse"],["defaultIcon",""],[3,"svgIcon"],[1,"mat-select-search-no-entries-found"],["defaultNoEntriesFound",""]],template:function(s,r){1&s&&(e.F$t(se),e._UZ(0,"input",0),e.TgZ(1,"div",1,2),e.YNc(3,Z,1,5,"mat-checkbox",3),e.TgZ(4,"input",4,5),e.NdJ("keydown",function(O){return r._handleKeydown(O)})("keyup",function(O){return r._handleKeyup(O)})("blur",function(){return r.onBlur()}),e.qZA(),e.YNc(6,d,1,0,"mat-spinner",6),e.YNc(7,a,4,2,"button",7),e.Hsn(8),e.qZA(),e.YNc(9,G,4,2,"div",8),e.ALo(10,"async")),2&s&&(e.xp6(1),e.Q6J("ngClass",e.WLB(11,X,r.matSelect.multiple,r._isToggleAllCheckboxVisible())),e.xp6(2),e.Q6J("ngIf",r._isToggleAllCheckboxVisible()),e.xp6(1),e.Q6J("type",r.type)("formControl",r._formControl)("placeholder",r.placeholderLabel),e.uIk("aria-label",r.ariaLabel),e.xp6(2),e.Q6J("ngIf",r.searching),e.xp6(1),e.Q6J("ngIf",!r.hideClearSearchButton&&r.value&&!r.searching),e.xp6(2),e.Q6J("ngIf",e.lcZ(10,9,r._showNoEntriesFound$)))},dependencies:[j.oG,B.Ou,$.lW,J.Hw,w.mk,w.O5,Y.gM,p.Fj,p.JJ,p.oH,w.Ov],styles:[".mat-select-search-hidden[_ngcontent-%COMP%]{visibility:hidden}.mat-select-search-inner[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;border-bottom-width:1px;border-bottom-style:solid;z-index:100;font-size:inherit;box-shadow:none;border-radius:4px 4px 0 0;-webkit-transform:translate3d(0,0,0)}.mat-select-search-inner.mat-select-search-inner-multiple[_ngcontent-%COMP%]{width:100%}.mat-select-search-inner.mat-select-search-inner-multiple.mat-select-search-inner-toggle-all[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{flex-basis:auto}.mat-select-search-inner[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]:-ms-input-placeholder{-ms-user-select:text}  .mat-select-search-panel{transform:none!important;overflow-x:hidden}.mat-select-search-input[_ngcontent-%COMP%]{padding:16px 44px 16px 16px;box-sizing:border-box;width:100%}[dir=rtl][_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-right:16px;padding-left:44px}.mat-select-search-no-entries-found[_ngcontent-%COMP%]{padding:16px}.mat-select-search-clear[_ngcontent-%COMP%]{position:absolute;right:4px;top:5px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{right:auto;left:4px}.mat-select-search-spinner[_ngcontent-%COMP%]{position:absolute;right:16px;top:calc(50% - 8px)}[dir=rtl][_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-spinner[_ngcontent-%COMP%]{right:auto;left:16px}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-input[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;height:3em;line-height:3em}.mat-select-search-inside-mat-option[_nghost-%COMP%]   .mat-select-search-clear[_ngcontent-%COMP%]{top:3px}  .mat-option[aria-disabled=true].contains-mat-select-search{position:static;padding:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-icon{margin-right:0;margin-left:0}  .mat-option[aria-disabled=true].contains-mat-select-search .mat-option-pseudo-checkbox{display:none}  .mat-option[aria-disabled=true].contains-mat-select-search.mat-select-search-no-entries-found{height:6em}.mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:16px;padding-bottom:2px}[dir=rtl][_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .mat-select-search-toggle-all-checkbox[_ngcontent-%COMP%]{padding-left:0;padding-right:16px}"],changeDetection:0}),l})(),A=(()=>{class l{}return l.\u0275fac=function(s){return new(s||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[[w.ez,p.UX,$.ot,j.p9,J.Ps,B.Cq,Y.AV]]}),l})()}}]);