"use strict";(self.webpackChunkprosoft_components_demo=self.webpackChunkprosoft_components_demo||[]).push([[236],{2787:(w,f,i)=>{i.d(f,{F:()=>g,o:()=>M});var d=i(4650),u=i(6297);let M=(()=>{class s{constructor(m){this.extractor=m}transform(m){return this.extractor.extractErrorMessage(m)??""}}return s.\u0275fac=function(m){return new(m||s)(d.Y36(u.z,16))},s.\u0275pipe=d.Yjl({name:"psErrorMessage",type:s,pure:!0}),s})(),g=(()=>{class s{}return s.\u0275fac=function(m){return new(m||s)},s.\u0275mod=d.oAB({type:s}),s.\u0275inj=d.cJS({}),s})()},9236:(w,f,i)=>{i.r(f),i.d(f,{ViewDemoModule:()=>j});var d=i(6895),u=i(4006),M=i(4859),g=i(3546),s=i(6709),h=i(2510),m=i(7392),y=i(4551),v=i(2787),t=i(4650);let S=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,g.QW,m.Ps,y.O,v.F]}),e})();var _=i(7579),C=i(727),D=i(1135),T=i(9646),I=i(5698),A=i(1005),P=i(4004),E=i(9562);function x(e,c){if(1&e&&(t.TgZ(0,"ps-block-ui",5),t.Hsn(1),t.qZA()),2&e){const o=t.oxw(2);t.Q6J("blocked",o.contentBlocked)}}function F(e,c){if(1&e&&(t.TgZ(0,"mat-icon",8),t._uU(1),t.qZA()),2&e){const o=t.oxw(3);t.xp6(1),t.Oqu(o.exception.icon)}}function V(e,c){if(1&e&&(t.TgZ(0,"mat-card",6),t.YNc(1,F,2,1,"mat-icon",7),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"psErrorMessage"),t.qZA()()),2&e){const o=t.oxw(2);t.ekj("ps-view__error-container--center",o.exception.alignCenter),t.xp6(1),t.Q6J("ngIf",o.exception.icon),t.xp6(2),t.Oqu(t.lcZ(4,4,o.exception.errorObject))}}function b(e,c){if(1&e&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,x,2,1,"ps-block-ui",3),t.YNc(3,V,5,6,"mat-card",4),t.qZA()()),2&e){const o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.contentVisible),t.xp6(1),t.Q6J("ngIf",o.exception)}}const a=["*"];let r=(()=>{class e{constructor(o){this.cd=o,this._dataSourceSub=C.w0.EMPTY}set dataSource(o){this._dataSource&&(this._dataSource.disconnect(),this._dataSourceSub.unsubscribe()),this._dataSource=o,this._dataSource&&this.activateDataSource()}get dataSource(){return this._dataSource}get contentVisible(){return this.dataSource.contentVisible}get contentBlocked(){return this.dataSource.contentBlocked}get exception(){return this.dataSource.exception}ngOnDestroy(){this._dataSourceSub.unsubscribe(),this._dataSource&&this._dataSource.disconnect()}activateDataSource(){!this._dataSource||(this._dataSourceSub=this._dataSource.connect().subscribe(()=>{this.cd.markForCheck()}))}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ps-view"]],inputs:{dataSource:"dataSource"},ngContentSelectors:a,decls:1,vars:1,consts:[["class","ps-view__main-container",4,"ngIf"],[1,"ps-view__main-container"],[1,"ps-view__cards-container"],[3,"blocked",4,"ngIf"],["class","ps-view__error-container",3,"ps-view__error-container--center",4,"ngIf"],[3,"blocked"],[1,"ps-view__error-container"],["class","ps-view__error-icon",4,"ngIf"],[1,"ps-view__error-icon"]],template:function(o,l){1&o&&(t.F$t(),t.YNc(0,b,4,2,"div",0)),2&o&&t.Q6J("ngIf",l.dataSource)},dependencies:[d.O5,g.a8,m.Hw,E.x,v.o],styles:[".ps-view__main-container{box-sizing:border-box}.ps-view__cards-container{display:grid;grid-gap:1em}mat-card.ps-view__error-container{color:var(--ps-error)}mat-card.ps-view__error-container--center{display:grid;justify-items:center}mat-icon.ps-view__error-icon{color:var(--ps-error);font-size:72px;height:72px;width:72px}\n"],encapsulation:2,changeDetection:0}),e})();function n(e,c){if(1&e&&(t.TgZ(0,"div",8),t._uU(1),t.ALo(2,"json"),t.qZA()),2&e){const o=c.$implicit;t.xp6(1),t.Oqu(t.lcZ(2,1,o))}}class p{constructor(c){this.options=c,this._loading=!1,this._hasLoadError=!1,this._blockView=!1,this.stateChanges$=new _.x,this._loadingSub=C.w0.EMPTY,this._connectSub=C.w0.EMPTY}get contentVisible(){return!this._hasLoadError}get contentBlocked(){return this._loading||this._blockView}connect(){return this._connectSub=this.options.loadTrigger$.subscribe(c=>{this.loadData(c)}),this.stateChanges$}disconnect(){this._connectSub.unsubscribe(),this._loadingSub.unsubscribe()}setViewBlocked(c){this._blockView=c,this.stateChanges$.next()}loadData(c){this._loadingSub.unsubscribe(),this._loading=!0,this._hasLoadError=!1,this.exception=null,this.stateChanges$.next(),this._loadingSub=this.options.loadFn(c).pipe((0,I.q)(1)).subscribe({next:()=>{this._loading=!1,this.stateChanges$.next()},error:o=>{this._loading=!1,this._hasLoadError=!0,this.exception={errorObject:o,alignCenter:!0,icon:"sentiment_very_dissatisfied"},this.stateChanges$.next()}})}}let O=(()=>{class e{constructor(){this.loadError=!1,this.counter=0,this.logs=[],this.loadTrigger$=new D.X(this.counter),this.dataSource=new p({loadTrigger$:this.loadTrigger$,loadFn:o=>(this.logs.push({type:"load",params:o}),(0,T.of)({loadCount:o,time:new Date}).pipe((0,A.g)(1e3),(0,P.U)(l=>{if(this.loadError)throw new Error("this is the server error (loading)");return this.item=l,l})))})}reload(){this.loadTrigger$.next(++this.counter)}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-view-demo"]],decls:15,vars:6,consts:[[1,"app-view-data-source-demo__settings"],[3,"ngModel","ngModelChange"],["mat-flat-button","","type","button","color","accent",3,"click"],[1,"app-form-data-source-demo__grid"],[3,"dataSource"],[2,"height","500px","margin-top","1em"],[1,"app-view-data-source-demo__logs"],["class","app-view-data-source-demo__log-item",4,"ngFor","ngForOf"],[1,"app-view-data-source-demo__log-item"]],template:function(o,l){1&o&&(t.TgZ(0,"mat-card",0)(1,"mat-checkbox",1),t.NdJ("ngModelChange",function(k){return l.loadError=k}),t._uU(2,"load error"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){return l.reload()}),t._uU(4,"reload"),t.qZA()(),t.TgZ(5,"div",3)(6,"ps-view",4)(7,"mat-card")(8,"pre"),t._uU(9),t.ALo(10,"json"),t.qZA()(),t.TgZ(11,"mat-card",5),t._uU(12,"dummy card"),t.qZA()(),t.TgZ(13,"mat-card",6),t.YNc(14,n,3,3,"div",7),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("ngModel",l.loadError),t.xp6(5),t.Q6J("dataSource",l.dataSource),t.xp6(3),t.Oqu(t.lcZ(10,4,l.item)),t.xp6(5),t.Q6J("ngForOf",l.logs))},dependencies:[u.JJ,u.On,d.sg,g.a8,s.oG,M.lW,r,d.Ts],styles:[".app-view-data-source-demo__settings[_ngcontent-%COMP%]{margin-bottom:1em}.app-view-data-source-demo__settings[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{margin:1em}.app-view-data-source-demo__grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;grid-gap:1em}.app-view-data-source-demo__logs[_ngcontent-%COMP%]{margin-top:1em}.app-view-data-source-demo__log-item[_ngcontent-%COMP%]{margin-bottom:.25em;padding-bottom:.25em;border-bottom:1px solid #ccc;font-size:.95em}"],changeDetection:0}),e})(),j=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.u5,d.ez,h.Bz.forChild([{path:"",component:O}]),g.QW,s.p9,M.ot,S]}),e})()},3546:(w,f,i)=>{i.d(f,{QW:()=>b,a8:()=>x,dn:()=>v,hq:()=>_,rt:()=>C});var d=i(4650),u=i(3238);const M=["*",[["mat-card-footer"]]],g=["*","mat-card-footer"];let v=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275dir=d.lG2({type:a,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),a})(),_=(()=>{class a{constructor(){this.align="start"}}return a.\u0275fac=function(n){return new(n||a)},a.\u0275dir=d.lG2({type:a,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(n,p){2&n&&d.ekj("mat-card-actions-align-end","end"===p.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),a})(),C=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275dir=d.lG2({type:a,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-card-footer"]}),a})(),x=(()=>{class a{constructor(n){this._animationMode=n}}return a.\u0275fac=function(n){return new(n||a)(d.Y36(d.QbO,8))},a.\u0275cmp=d.Xpm({type:a,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(n,p){2&n&&d.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode)},exportAs:["matCard"],ngContentSelectors:g,decls:2,vars:0,template:function(n,p){1&n&&(d.F$t(M),d.Hsn(0),d.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),a})(),b=(()=>{class a{}return a.\u0275fac=function(n){return new(n||a)},a.\u0275mod=d.oAB({type:a}),a.\u0275inj=d.cJS({imports:[u.BQ,u.BQ]}),a})()}}]);